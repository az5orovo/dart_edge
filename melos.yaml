name: cloudflare_workers

repository: https://github.com/invertase/dart_workers

packages:
  - packages/**
  - example

command:
  version:
    # Generate commit links in package changelogs.
    linkToCommits: true
    # Only allow versioning to happen on main branch.
    branch: main
    # Additionally build a changelog at the root of the workspace.
    workspaceChangelog: true
  bootstrap:
    usePubspecOverrides: true
ide:
  intellij: false

scripts:
  build:fetch_apis:
    run: cd packages/fetch_apis && dart run build_runner build --delete-conflicting-outputs
  build_watch:fetch_apis:
    run: cd packages/fetch_apis && dart run build_runner watch --delete-conflicting-outputs
    
  test:v8_runtime:
    run: cd packages/v8_runtime && dart test -p chrome
